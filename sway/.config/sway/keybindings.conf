#----------------------------#
#  			     			 #
# Key Bindings Configuration #
#			    			 #
#----------------------------#

include apps.conf

#-------------------#
# Setting Variables #
#-------------------#
# Relevant Directories
set $sway_scripts $HOME/.config/sway/scripts

# Note: pass the final command to swaymsg so that the resulting window can be opened
# on the original workspace that the command was run on.
# set $menu dmenu_path | dmenu | xargs swaymsg exec --
#

#-----------------#
# Keyboard Layout #
#-----------------#
# you can see the available languages using the command:
# `localectl list-x11-keymap-layouts`

input "type:keyboard" {
    xkb_layout us
}

#---------#r
# mod key #
#---------#
set $super Mod4
set $alt Mod1

#-----------#
# Shortcuts #
#-----------#
# Quick start some applications

# Window Switcher
# bindsym $alt+tab exec way-sh app-switcher toggle

# Workspace Switcher
bindsym $super+Shift+tab exec way-sh workspace-switcher toggle

# Start a terminal
bindsym $super+Return exec $term

# bindsym Ctrl+$super+Return exec $term -e distrobox enter fedora

# Start your files manager
bindsym $super+Shift+f exec --no-startup-id thunar

# Start your launcher
bindsym $super+d exec $launcher --no-startup-id

# Start your windows overview
bindsym $super+c exec $windows --no-startup-id

# Start your powermenu
bindsym $super+q exec wlogout

# Clipboard
# bindsym $super+V exec $term -e $clipboard

# Wallpaper Selector

bindsym $super+t exec $sway_scripts/wallpaper-selector.sh

# Screen-Recorder
bindsym Control+Shift+R           exec --no-startup-id $screen-recorder

# Screenshot
bindsym Print                     exec --no-startup-id $screenshot
bindsym Shift+Print               exec --no-startup-id grimshot --notify save screen ~/Pictures/Screenshots/$(date "+%Y-%m-%d"T"%H:%M:%S_no_watermark").png
bindsym Control+Print             exec --no-startup-id grimshot --notify copy area ~/Pictures/Screenshots/$(date "+%Y-%m-%d"T"%H:%M:%S_no_watermark").png
bindsym $super+Shift+s            exec --no-startup-id grimshot --notify copy area
# bindsym $super+bracketleft  exec --no-startup-id   grimshot --notify copy area ~/Pictures/Screenshots/$(date "+%Y-%m-%d"T"%H:%M:%S_no_watermark").png
# bindsym $super+bracketright exec --no-startup-id   grimshot --notify copy area ~/Pictures/Screenshots/$(date "+%Y-%m-%d"T"%H:%M:%S_no_watermark").png

# Swaylock
bindsym $super+Shift+l exec --no-startup-id $sway_scripts/swaylock.sh

# Others

#---------------#
# waybar toggle #
#---------------#
bindsym $super+y exec killall -SIGUSR1 waybar

#-------------#
# Numpad Keys #
#-------------#
set $num0 KP_Insert
set $num1 KP_End
set $num2 KP_Down
set $num3 KP_Next
set $num4 KP_Left
set $num5 KP_Begin
set $num6 KP_Right
set $num7 KP_Home
set $num8 KP_Up
set $num9 KP_Prior

#--------------#
# Key bindings #
#--------------#

# Kill focused window
bindsym $super+Shift+q kill FOCUSED_APP_ID

# Kill using a mouse
bindsym $super+F4                      exec --no-startup-id $sway_scripts/kill-window.sh
bindsym --whole-window $super+button2  exec --no-startup-id $sway_scripts/kill-window.sh

# Center the current focus window
# bindsym $super+c move position center

# Make the current focus fullscreen
bindsym $super+f fullscreen

# Toggle the current focus between tiling and floating mode
bindsym $super+Space floating toggle

# Reload the configuration file
bindsym $super+Shift+r reload

# Exit sway (logs you out of your Wayland session)
bindsym $super+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# Drag floating windows by holding down $super and left mouse button.
# Resize them with right mouse button + $super.
# Despite the name, also works for non-floating windows.
# Change normal to inverse to use left mouse button for resizing and right
# mouse button for dragging.
floating_modifier $super normal

#----------------#
# Moving around: #
#----------------#
# Move your focus around
# using $super+[up|down|left|right]
bindsym $super+Left focus left
bindsym $super+Down focus down
bindsym $super+Up focus up
bindsym $super+Right focus right

# Move the focused window with the same, but add Shift
bindsym $super+Shift+Left move left
bindsym $super+Shift+Down move down
bindsym $super+Shift+Up move up
bindsym $super+Shift+Right move right

#-------------#
# Workspaces: #
#-------------#
# Switch workspaces
#comma(,) period(.)
#slash(/)
bindsym $super+Control+Right workspace next
bindsym $super+Control+Left workspace prev

# change workspaces using scroll
bindsym --whole-window  $super+$alt+button4 workspace next
bindsym --whole-window  $super+$alt+button5 workspace prev

# change back and forth
bindsym $super+slash workspace back_and_forth

# Switch to workspace
bindsym $super+1 workspace number 1
bindsym $super+2 workspace number 2
bindsym $super+3 workspace number 3
bindsym $super+4 workspace number 4
bindsym $super+5 workspace number 5
bindsym $super+6 workspace number 6
bindsym $super+7 workspace number 7
bindsym $super+8 workspace number 8
bindsym $super+9 workspace number 9

# Move focused container to workspace
# bindsym $super+Ctrl+Right move container to workspace next
# bindsym $super+Ctrl+Left move container to workspace prev
bindsym $super+Shift+1 move container to workspace number 1
bindsym $super+Shift+2 move container to workspace number 2
bindsym $super+Shift+3 move container to workspace number 3
bindsym $super+Shift+4 move container to workspace number 4
bindsym $super+Shift+5 move container to workspace number 5
bindsym $super+Shift+6 move container to workspace number 6
bindsym $super+Shift+7 move container to workspace number 7
bindsym $super+Shift+8 move container to workspace number 8
bindsym $super+Shift+9 move container to workspace number 9

# Note: workspaces can have any name you want, not just numbers.
# We just use 1-10 as the default.

#---------------#
# Layout stuff: #
#---------------#
# You can "split" the current object of your focus with
# $super+semicolon or $super+apostrophe, for horizontal and vertical splits
# respectively.
bindsym $super+v splitv
bindsym $super+h splith

# Switch the current container between different layout styles
bindsym $super+z layout stacking
bindsym $super+x layout tabbed
bindsym $super+a layout toggle split

# Swap focus between the tiling area and the floating area
bindsym $super+tab focus mode_toggle

# Move focus to the parent container
bindsym $super+o focus parent
# Move focus the child container
bindsym $super+p focus child

#-------------#
# Scratchpad: #
#-------------#
## hide | show window(minus is "-" and plus is "+".)
bindsym $super+minus move scratchpad
bindsym $super+equal scratchpad show

#--------#
# Modes: #
#--------#

bindsym $super+$alt+p mode passthrough
mode passthrough {
	bindsym $super+$alt+p mode default
}

bindsym $super+r mode "resize"
mode "resize" {
    # left will shrink the containers width
    # right will grow the containers width
    # up will shrink the containers height
    # down will grow the containers height
    bindsym Left resize shrink width 10px
    bindsym Up resize grow height 10px
    bindsym Down resize shrink height 10px
    bindsym Right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

#-------------------#
# Resizing Windows: #
#-------------------#

## Better to resize window
bindsym Shift+Ctrl+h             resize shrink width  5 px or 5 ppt
bindsym Shift+Ctrl+k             resize grow   height 5 px or 5 ppt
bindsym Shift+Ctrl+j             resize shrink height 5 px or 5 ppt
bindsym Shift+Ctrl+l             resize grow   width  5 px or 5 ppt
# bindsym Shift+Ctrl+Left          resize shrink width  5 px or 5 ppt
# bindsym Shift+Ctrl+Up            resize grow   height 5 px or 5 ppt
# bindsym Shift+Ctrl+Down          resize shrink height 5 px or 5 ppt
# bindsym Shift+Ctrl+Right         resize grow   width  5 px or 5 ppt

#--------------#
# Window Gaps: #
#--------------#
## Change window gaps

# bindsym $super+shift+g exec swaymsg gaps outer all set 0 && swaymsg gaps inner all set 5
# bindsym $super+g exec swaymsg gaps outer all set 0 && swaymsg gaps inner all set 0

#-------------------------------------------------#
# Control volume,monitor brightness,media players #
#-------------------------------------------------#
set $up_volume pactl set-sink-volume @DEFAULT_SINK@ +10%
set $down_volume pactl set-sink-volume @DEFAULT_SINK@ -10%
set $mute_volume pactl set-sink-mute @DEFAULT_SINK@ toggle
set $mute_mic pactl set-source-mute @DEFAULT_SOURCE@ toggle
set $up_brightness light -A 5
set $down_brightness light -U 5

bindsym XF86AudioRaiseVolume exec $up_volume | $sway_scripts/CSDunstify audio
bindsym XF86AudioLowerVolume exec $down_volume | $sway_scripts/CSDunstify audio
bindsym XF86AudioMute exec pactl $mute_volume | $sway_scripts/CSDunstify muted
bindsym XF86AudioMicMute exec $mute_mic| $sway_scripts/CSDunstify muted
bindsym XF86MonBrightnessUp exec $up_brightness | $sway_scripts/CSDunstify brightness
bindsym XF86MonBrightnessDown exec $down_brightness | $sway_scripts/CSDunstify brightness
bindsym XF86AudioPlay exec playerctl play-pause | $sway_scripts/CSDunstify playpause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
